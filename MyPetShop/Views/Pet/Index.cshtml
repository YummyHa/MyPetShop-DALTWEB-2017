@model MyPetShop.ViewModels.PetViewModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutUser.cshtml";
}

@{ var i = 0; }
<style>
    .product-box img{
        width: auto;
        height: 320px;
    }
</style>
<div class="row">
    <br/>
    <div class="span12">
        <h4 class="title">
            <span class="pull-left"><span class="text"><span class="line">Feature <strong>Pets</strong></span></span></span>
            <span class="pull-right">
                <a class="left button" href="#myCarousel" data-slide="prev"></a><a class="right button" href="#myCarousel" data-slide="next"></a>
            </span>
        </h4>
        <div id="myCarousel" class="myCarousel carousel slide">
            <div class="carousel-inner">
                <div class="active item">
                    <ul class="thumbnails">
                        @foreach (var pet in Model.Pets)
                        {
                            var image = "";
                            foreach (var petImage in Model.PetImages)
                            {
                                if (petImage.PetId == pet.Id)
                                {
                                    image = petImage.Uri.ToString();
                                    break;
                                }
                            }
                            if (i < 8)
                            {
                                <li class="span3">
                                    <div class="product-box">
                                        <span class="sale_tag"></span>
                                        <p><a href="@Url.Action("PetDetails", "Pet", new {id = pet.Id})"><img src="@image" alt=""/></a>
                                        </p>
                                        <a href="@Url.Action("PetDetails", "Pet", new {id = pet.Id})" class="title">@pet.Name</a><br/>
                                        <a href="@Url.Action("Products", "Pet", new {id = pet.CategoryPetId})" class="">AGE: @pet.Age years</a>
                                        <p class="price">$@pet.Price</p>
                                    </div>
                                </li>
                            }
                            else
                            {
                                break;
                            }
                            i++;
                        }
                    </ul>
                </div>
                <div class="item">
                    @{ i = 0; }
                    <ul class="thumbnails">
                        @foreach (var pet in Model.Pets)
                        {
                            var image = "";
                            foreach (var petImage in Model.PetImages)
                            {
                                if (petImage.PetId == pet.Id)
                                {
                                    image = petImage.Uri.ToString();
                                    break;
                                }
                            }
                            if (i >= 8 && i <= 15)
                            {
                                <li class="span3">
                                    <div class="product-box">
                                        <span class="sale_tag"></span>
                                        <p>
                                            <a href="@Url.Action("PetDetails", "Pet", new {id = pet.Id})"><img src="@image" alt=""/></a>
                                        </p>
                                        <a href="@Url.Action("PetDetails", "Pet", new {id = pet.Id})" class="title">@pet.Name</a><br/>
                                        <a href="@Url.Action("Products", "Pet", new {id = pet.CategoryPetId})" class="">AGE: @pet.Age years</a>
                                        <p class="price">$@pet.Price</p>
                                    </div>
                                </li>
                            }

                            i++;

                        }

                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
